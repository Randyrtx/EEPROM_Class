<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.16"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>EEPROM_Class: EEPROM_Class Library for Particle</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">EEPROM_Class
   &#160;<span id="projectnumber">0.0.1</span>
   </div>
   <div id="projectbrief">A simple class library for managing EEPROM-based data objects</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.16 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('index.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title"><a class="el" href="class_e_e_p_r_o_m___class.html" title="EEPROM Class.">EEPROM_Class</a> Library for Particle </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>This library implements classes for managing data objects stored in the emulated EEPROM of Particle devices.</p>
<h1><a class="anchor" id="autotoc_md2"></a>
EEPROM_Class</h1>
<div class="fragment"><div class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> OBJ&gt;</div>
<div class="line"><span class="keyword">class </span><a class="code" href="class_e_e_p_r_o_m___class.html">EEPROM_Class</a> {}</div>
</div><!-- fragment --><p> Implements the basic, low-level functions for storing and retrieving generic data objects in EEPROM. Integrity is maintained via a 16-bit checksum which is verifed before data is retrieved, and updated whenever the entries in the object are changed. May be used standalone for small data objects or used in derived classes for specialized data objects.</p>
<p>Implemented as a template class so that objects of any type may be used.</p>
<h1><a class="anchor" id="autotoc_md3"></a>
UserSettingsClass</h1>
<div class="fragment"><div class="line"><span class="keyword">class </span><a class="code" href="class_user_settings_class.html">UserSettingsClass</a> : <span class="keyword">public</span> <a class="code" href="class_e_e_p_r_o_m___class.html">EEPROM_Class</a>&lt;SettingsObject&gt; {}</div>
</div><!-- fragment --><p> Derives from the <a class="el" href="class_e_e_p_r_o_m___class.html" title="EEPROM Class.">EEPROM_Class</a> base class to implement a specialized data object containing clock settings and Wifi information not already provided by the system OS.</p>
<p><a href="https://randyrtx.github.io/EEPROM_Class/">API Documentation</a></p>
<h1><a class="anchor" id="autotoc_md4"></a>
Simple Object use with EEPROM_Class</h1>
<h2><a class="anchor" id="autotoc_md5"></a>
User-defined data object (example)</h2>
<div class="fragment"><div class="line"><span class="comment">// Define structure of the object</span></div>
<div class="line"><span class="keyword">struct </span>UserCredentials</div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">char</span> userName[16];</div>
<div class="line">    <span class="keywordtype">char</span> password[16];</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Declare the object</span></div>
<div class="line">UserCredentials myCredentials = {<span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;&quot;</span>};</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Instantiate the class object with the type</span></div>
<div class="line"><a class="code" href="class_e_e_p_r_o_m___class.html">EEPROM_Class&lt;UserCredentials&gt;</a> myEEPROM;</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Define the EEPROM address for the object, </span></div>
<div class="line"><span class="comment">//      where: 0 &lt;= address &lt;= EEPROM.length()  - (sizeof(object) + sizeof(uint16_t))</span></div>
<div class="line"><span class="preprocessor">#define mySettingsAddress 0</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Initialize the data object with EEPROM image</span></div>
<div class="line"><span class="keywordflow">if</span>(myEEPROM.<a class="code" href="class_e_e_p_r_o_m___class.html#a3669112f8fca19628bf427a3e3575926">begin</a>(<a class="code" href="advanced_usage_8cpp.html#aee908792e407d8f93a63f419cefbffd8">myCredentialsAddress</a>, myCredentials))</div>
<div class="line">    <span class="comment">// Valid Image Loaded</span></div>
<div class="line"><span class="keywordflow">else</span></div>
<div class="line">    <span class="comment">// Checksum error, image not loaded</span></div>
</div><!-- fragment --> <h2><a class="anchor" id="autotoc_md6"></a>
Updating the object</h2>
<div class="fragment"><div class="line">strcpy(myCredentials.userName, <span class="stringliteral">&quot;NewUserName&quot;</span>);</div>
<div class="line">strcpy(myCredentials.password, <span class="stringliteral">&quot;NewPassword&quot;</span>);</div>
<div class="line">myEEPROM.<a class="code" href="class_e_e_p_r_o_m___class.html#a6458403b6583493802013163b389c958">writeObject</a>(myCredentials);</div>
</div><!-- fragment --><p> Refer to the <a href="https://randyrtx.github.io/EEPROM_Class/">API Documentation</a> and <a href="https://github.com/Randyrtx/EEPROM_Class/tree/master/examples">Examples</a> for further details.</p>
<h1><a class="anchor" id="autotoc_md7"></a>
UserSettingsClass  User Configuration Object</h1>
<h2><a class="anchor" id="autotoc_md8"></a>
Data Object</h2>
<div class="fragment"><div class="line"><span class="keyword">struct </span><a class="code" href="struct_settings_object.html">SettingsObject</a></div>
<div class="line">{</div>
<div class="line">    int8_t <a class="code" href="struct_settings_object.html#abb5ea8be7eb88601ecb4b161e0a80305">timeZone</a>;</div>
<div class="line">    <span class="keywordtype">float</span> <a class="code" href="struct_settings_object.html#a8e8389d18c0d065eebc2230fa47b8a01">dstOffset</a>;</div>
<div class="line">    <span class="keywordtype">bool</span> <a class="code" href="struct_settings_object.html#a868a7380d72c873360deb384c75af119">dstEnabled</a>;</div>
<div class="line">    <span class="keywordtype">char</span> <a class="code" href="struct_settings_object.html#a958181483bb7221d4978699bc70381f8">hostName</a>[32];</div>
<div class="line">    WLanSelectAntenna_TypeDef <a class="code" href="struct_settings_object.html#a80273513c94783def5bbc0bd28e042c4">antennaType</a>;</div>
<div class="line">};</div>
</div><!-- fragment --> <h2><a class="anchor" id="autotoc_md9"></a>
Class instantiation and startup</h2>
<div class="fragment"><div class="line"><span class="comment">// User Settings Class Object</span></div>
<div class="line"><a class="code" href="class_user_settings_class.html">UserSettingsClass</a> mySettings;</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Define the EEPROM address for the object,</span></div>
<div class="line"><span class="comment">//      where: 0 &lt;= address &lt;= EEPROM.length() - (sizeof(object) + sizeof(uint16_t))</span></div>
<div class="line"><span class="preprocessor">#define mySettingsAddress 0</span></div>
<div class="line"> </div>
<div class="line"><span class="keywordflow">if</span> (mySettings.<a class="code" href="class_user_settings_class.html#a163b4c22d607e626fab2ccc8d7e292ec">begin</a>(<a class="code" href="advanced_usage_8cpp.html#aa87b7c1c79746a7fa3546adb2e0ace4f">mySettingsAddress</a>))</div>
<div class="line">{</div>
<div class="line">    <span class="comment">// Valid Image Loaded</span></div>
<div class="line">}</div>
<div class="line"><span class="keywordflow">else</span></div>
<div class="line">{</div>
<div class="line">    <span class="comment">// Checksum error, image not loaded</span></div>
<div class="line">}</div>
</div><!-- fragment --> <h3><a class="anchor" id="autotoc_md10"></a>
Typical use:</h3>
<div class="fragment"><div class="line">Time.zone(mySettings.<a class="code" href="class_user_settings_class.html#ad2fc539a3d3ac35df61872b04b2e8509">getTimeZone</a>()); <span class="comment">// Set time zone</span></div>
<div class="line">Time.setDSTOffset(mySettings.<a class="code" href="class_user_settings_class.html#a7c6f54ac6f0fe9033d6f2d53b88820f9">getDstOffset</a>()); <span class="comment">// Set DST offset</span></div>
<div class="line"><span class="keywordflow">if</span> (mySettings.<a class="code" href="class_user_settings_class.html#a0b837491897a91e4c59091c43cebcccf">isDSTEnabled</a>())</div>
<div class="line">{</div>
<div class="line">    Time.beginDST(); <span class="comment">// Set Daylight Savings Time flag</span></div>
<div class="line">}</div>
<div class="line"><span class="keywordflow">else</span></div>
<div class="line">{</div>
<div class="line">    Time.endDST(); <span class="comment">// Note: this is not needed on startup, as the DST setting defaults to off.</span></div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">WiFi.setHostname(mySettings.<a class="code" href="class_user_settings_class.html#a2d4d64e54a42c8d695dcf1b5bda82124">getHostName</a>());</div>
<div class="line">WiFi.selectAntenna(mySettings.<a class="code" href="class_user_settings_class.html#abf65ec0e11008a7071961cb3a7da3a05">getAntennaType</a>());</div>
</div><!-- fragment --><p>Refer to the provided [examples](tbd) for more details.</p>
<h1><a class="anchor" id="autotoc_md11"></a>
Examples:</h1>
<p><a href="https://github.com/Randyrtx/EEPROM_Class/tree/master/examples/basicUsage">Basic Usage Example</a>: Demonstrates use of the <a class="el" href="class_e_e_p_r_o_m___class.html" title="EEPROM Class.">EEPROM_Class</a> for a small user-supplied data object.</p>
<p><a href="https://github.com/Randyrtx/EEPROM_Class/tree/master/examples/advancedUsage">Advanced Usage Example</a>: Demonstrates use of the <a class="el" href="class_user_settings_class.html" title="The UserSettings Class.">UserSettingsClass</a> for common system settings.</p>
<h1><a class="anchor" id="autotoc_md12"></a>
LICENSE</h1>
<p>Copyright 2019 Randy E. Rainwater</p>
<p>Licensed under the MIT License </p>
</div></div><!-- PageDoc -->
</div><!-- contents -->
</div><!-- doc-content -->
<div class="ttc" id="aclass_user_settings_class_html_abf65ec0e11008a7071961cb3a7da3a05"><div class="ttname"><a href="class_user_settings_class.html#abf65ec0e11008a7071961cb3a7da3a05">UserSettingsClass::getAntennaType</a></div><div class="ttdeci">WLanSelectAntenna_TypeDef getAntennaType()</div><div class="ttdoc">get Antenna Type selection for Particle devices</div><div class="ttdef"><b>Definition:</b> <a href="_user_settings_class_8h_source.html#l00147">UserSettingsClass.h:147</a></div></div>
<div class="ttc" id="aclass_user_settings_class_html_a2d4d64e54a42c8d695dcf1b5bda82124"><div class="ttname"><a href="class_user_settings_class.html#a2d4d64e54a42c8d695dcf1b5bda82124">UserSettingsClass::getHostName</a></div><div class="ttdeci">char * getHostName()</div><div class="ttdoc">Get Wifi Hostname.</div><div class="ttdef"><b>Definition:</b> <a href="_user_settings_class_8h_source.html#l00143">UserSettingsClass.h:143</a></div></div>
<div class="ttc" id="aclass_user_settings_class_html"><div class="ttname"><a href="class_user_settings_class.html">UserSettingsClass</a></div><div class="ttdoc">The UserSettings Class.</div><div class="ttdef"><b>Definition:</b> <a href="_user_settings_class_8h_source.html#l00078">UserSettingsClass.h:78</a></div></div>
<div class="ttc" id="aclass_e_e_p_r_o_m___class_html_a6458403b6583493802013163b389c958"><div class="ttname"><a href="class_e_e_p_r_o_m___class.html#a6458403b6583493802013163b389c958">EEPROM_Class::writeObject</a></div><div class="ttdeci">void writeObject(OBJ &amp;object)</div><div class="ttdoc">Write object to EEPROM.</div><div class="ttdef"><b>Definition:</b> <a href="_e_e_p_r_o_m___class_8h_source.html#l00085">EEPROM_Class.h:85</a></div></div>
<div class="ttc" id="aadvanced_usage_8cpp_html_aee908792e407d8f93a63f419cefbffd8"><div class="ttname"><a href="advanced_usage_8cpp.html#aee908792e407d8f93a63f419cefbffd8">myCredentialsAddress</a></div><div class="ttdeci">#define myCredentialsAddress</div><div class="ttdoc">Relative address of the myCredentials object in EEPROM.</div><div class="ttdef"><b>Definition:</b> <a href="advanced_usage_8cpp_source.html#l00084">advancedUsage.cpp:84</a></div></div>
<div class="ttc" id="aclass_e_e_p_r_o_m___class_html"><div class="ttname"><a href="class_e_e_p_r_o_m___class.html">EEPROM_Class</a></div><div class="ttdoc">EEPROM Class.</div><div class="ttdef"><b>Definition:</b> <a href="_e_e_p_r_o_m___class_8h_source.html#l00031">EEPROM_Class.h:31</a></div></div>
<div class="ttc" id="astruct_settings_object_html_abb5ea8be7eb88601ecb4b161e0a80305"><div class="ttname"><a href="struct_settings_object.html#abb5ea8be7eb88601ecb4b161e0a80305">SettingsObject::timeZone</a></div><div class="ttdeci">int8_t timeZone</div><div class="ttdoc">Local Time Zone.</div><div class="ttdef"><b>Definition:</b> <a href="_user_settings_class_8h_source.html#l00048">UserSettingsClass.h:48</a></div></div>
<div class="ttc" id="astruct_settings_object_html"><div class="ttname"><a href="struct_settings_object.html">SettingsObject</a></div><div class="ttdoc">Data Object Structure.</div><div class="ttdef"><b>Definition:</b> <a href="_user_settings_class_8h_source.html#l00042">UserSettingsClass.h:42</a></div></div>
<div class="ttc" id="aclass_user_settings_class_html_a163b4c22d607e626fab2ccc8d7e292ec"><div class="ttname"><a href="class_user_settings_class.html#a163b4c22d607e626fab2ccc8d7e292ec">UserSettingsClass::begin</a></div><div class="ttdeci">bool begin(uint16_t address)</div><div class="ttdoc">Initializer: Loads working copy of object from EEPROM.</div><div class="ttdef"><b>Definition:</b> <a href="_user_settings_class_8cpp_source.html#l00015">UserSettingsClass.cpp:15</a></div></div>
<div class="ttc" id="astruct_settings_object_html_a8e8389d18c0d065eebc2230fa47b8a01"><div class="ttname"><a href="struct_settings_object.html#a8e8389d18c0d065eebc2230fa47b8a01">SettingsObject::dstOffset</a></div><div class="ttdeci">float dstOffset</div><div class="ttdoc">Daylight Savings Time Offset Offset in hours from standard time when daylight savings time is in effe...</div><div class="ttdef"><b>Definition:</b> <a href="_user_settings_class_8h_source.html#l00052">UserSettingsClass.h:52</a></div></div>
<div class="ttc" id="aclass_e_e_p_r_o_m___class_html_a3669112f8fca19628bf427a3e3575926"><div class="ttname"><a href="class_e_e_p_r_o_m___class.html#a3669112f8fca19628bf427a3e3575926">EEPROM_Class::begin</a></div><div class="ttdeci">bool begin(uint16_t address, OBJ &amp;object)</div><div class="ttdoc">Initialize the object and load data from EEPROM.</div><div class="ttdef"><b>Definition:</b> <a href="_e_e_p_r_o_m___class_8h_source.html#l00069">EEPROM_Class.h:69</a></div></div>
<div class="ttc" id="aclass_user_settings_class_html_a0b837491897a91e4c59091c43cebcccf"><div class="ttname"><a href="class_user_settings_class.html#a0b837491897a91e4c59091c43cebcccf">UserSettingsClass::isDSTEnabled</a></div><div class="ttdeci">bool isDSTEnabled()</div><div class="ttdoc">Get Daylight Savings Time enable flag.</div><div class="ttdef"><b>Definition:</b> <a href="_user_settings_class_8h_source.html#l00138">UserSettingsClass.h:138</a></div></div>
<div class="ttc" id="astruct_settings_object_html_a868a7380d72c873360deb384c75af119"><div class="ttname"><a href="struct_settings_object.html#a868a7380d72c873360deb384c75af119">SettingsObject::dstEnabled</a></div><div class="ttdeci">bool dstEnabled</div><div class="ttdoc">Daylight Savings Time enable flag True = enabled, False = disabled.</div><div class="ttdef"><b>Definition:</b> <a href="_user_settings_class_8h_source.html#l00056">UserSettingsClass.h:56</a></div></div>
<div class="ttc" id="aadvanced_usage_8cpp_html_aa87b7c1c79746a7fa3546adb2e0ace4f"><div class="ttname"><a href="advanced_usage_8cpp.html#aa87b7c1c79746a7fa3546adb2e0ace4f">mySettingsAddress</a></div><div class="ttdeci">#define mySettingsAddress</div><div class="ttdoc">Relative address of the mySettings object in EEPROM.</div><div class="ttdef"><b>Definition:</b> <a href="advanced_usage_8cpp_source.html#l00081">advancedUsage.cpp:81</a></div></div>
<div class="ttc" id="aclass_user_settings_class_html_ad2fc539a3d3ac35df61872b04b2e8509"><div class="ttname"><a href="class_user_settings_class.html#ad2fc539a3d3ac35df61872b04b2e8509">UserSettingsClass::getTimeZone</a></div><div class="ttdeci">int8_t getTimeZone()</div><div class="ttdoc">getters</div><div class="ttdef"><b>Definition:</b> <a href="_user_settings_class_8h_source.html#l00128">UserSettingsClass.h:128</a></div></div>
<div class="ttc" id="astruct_settings_object_html_a958181483bb7221d4978699bc70381f8"><div class="ttname"><a href="struct_settings_object.html#a958181483bb7221d4978699bc70381f8">SettingsObject::hostName</a></div><div class="ttdeci">char hostName[32]</div><div class="ttdoc">WiFi Hostname Null-terminated, 31 Character limit.</div><div class="ttdef"><b>Definition:</b> <a href="_user_settings_class_8h_source.html#l00060">UserSettingsClass.h:60</a></div></div>
<div class="ttc" id="aclass_user_settings_class_html_a7c6f54ac6f0fe9033d6f2d53b88820f9"><div class="ttname"><a href="class_user_settings_class.html#a7c6f54ac6f0fe9033d6f2d53b88820f9">UserSettingsClass::getDstOffset</a></div><div class="ttdeci">float getDstOffset()</div><div class="ttdoc">Get Daylight Savings Time offset.</div><div class="ttdef"><b>Definition:</b> <a href="_user_settings_class_8h_source.html#l00133">UserSettingsClass.h:133</a></div></div>
<div class="ttc" id="astruct_settings_object_html_a80273513c94783def5bbc0bd28e042c4"><div class="ttname"><a href="struct_settings_object.html#a80273513c94783def5bbc0bd28e042c4">SettingsObject::antennaType</a></div><div class="ttdeci">WLanSelectAntenna_TypeDef antennaType</div><div class="ttdoc">Wifi Antenna Type Selection For Particle Devices, may be Internal(ANT_INTERNAL), External(ANT_EXTERNA...</div><div class="ttdef"><b>Definition:</b> <a href="_user_settings_class_8h_source.html#l00064">UserSettingsClass.h:64</a></div></div>
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.16 </li>
  </ul>
</div>
</body>
</html>
